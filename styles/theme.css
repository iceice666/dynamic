/* Design tokens, dark mode overrides, accent hue property, rainbow animation */

@theme {
  --color-background: oklch(99% 0 0);
  --color-foreground: oklch(10% 0 0);
  --color-muted: oklch(45% 0 0);
  --color-muted-bg: oklch(95% 0 0);
  --color-border: oklch(88% 0 0);
  --color-accent: oklch(55% 0.18 var(--accent-hue, 255));
  --color-accent-fg: oklch(99% 0 0);

  --font-sans: 'SF Pro Text', 'SF Pro Display', -apple-system, BlinkMacSystemFont,
    'Noto Sans TC Variable', 'Noto Sans TC', system-ui, sans-serif;
  --font-mono: 'Cascadia Code Variable', 'Cascadia Code', ui-monospace,
    'Cascadia Mono', monospace;

  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;

  --tracking-tight: -0.015em;
  --tracking-normal: 0em;
  --tracking-wide: 0.025em;
  --tracking-widest: 0.08em;
}

html.dark {
  --color-background: oklch(10% 0 0);
  --color-foreground: oklch(97% 0 0);
  --color-muted: oklch(60% 0 0);
  --color-muted-bg: oklch(17% 0 0);
  --color-border: oklch(25% 0 0);
  --color-accent: oklch(70% 0.15 var(--accent-hue, 255));
  --color-accent-fg: oklch(10% 0 0);
  --shiki-dark: oklch(97% 0 0);
}

/* Register accent-hue as an animatable property */
@property --accent-hue {
  syntax: '<number>';
  initial-value: 255;
  inherits: true;
}

/* Rainbow mode animation - animates hue without moving the slider */
html.rainbow-active {
  animation: rainbow-hue var(--rainbow-duration, 10s) linear infinite;
}

@keyframes rainbow-hue {
  from {
    --accent-hue: 0;
  }
  to {
    --accent-hue: 360;
  }
}
