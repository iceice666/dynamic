---
import { author } from '../../../dynamic.config';
import I18nText from '$/components/I18nText.astro';
import { socialHref, socialIcon } from '$/utils/social';
import { Image } from 'astro:assets';
---

<div class="flex flex-col gap-2 p-4">
  <div class="flex flex-col gap-0.5">
    <span class="text-muted text-xs leading-[1.4]"><I18nText k="author_bio_heading" /></span>
  </div>
  <Image
    class="border-border h-12 w-12 rounded-full border-2 object-cover"
    src={author.avatar}
    alt="Author avatar"
    width="48"
    height="48"
    loading="eager"
  />
  <div class="flex flex-col gap-0.5">
    <span class="text-foreground text-sm font-semibold">{author.name}</span>
    <span class="text-muted text-xs leading-[1.4]">{author.tagline}</span>
  </div>
  <div class="mt-1 flex gap-2">
    {
      author.socials.map((link) => (
        <a
          href={socialHref(link)}
          class="social-icon text-muted hover:text-accent flex items-center transition-colors duration-150"
          aria-label={link.kind}
          target={link.kind === 'email' ? undefined : '_blank'}
          rel={link.kind === 'email' ? undefined : 'noopener'}
        >
          {(() => {
            const Icon = socialIcon(link);
            return <Icon size={16} className="shrink-0" aria-hidden="true" />;
          })()}
        </a>
      ))
    }
  </div>
</div>
